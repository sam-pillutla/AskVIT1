<!DOCTYPE html>
<html>
<head>
    <link href="https://fonts.googleapis.com/css2?family=Leckerli+One&display=swap" rel="stylesheet">

    <title>Chatbot</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Amatica+SC:wght@400;700&display=swap">
</head>
<body>
    <div style="display: flex;">
        <a href="{{ url_for('home') }}" style="display: inline-block;">
            <img src="/static/images/askw.png" style="margin-top: 3%; margin-left: -2%;" alt="askVIT" class="logo">
        </a>
        <div class="button3">
            <a href="{{ url_for('home') }}" class="button1" style="text-decoration: none;">AI</a>
            <a href="{{ url_for('ask') }}" class="button1" style="text-decoration: none;">Ask</a>
            <a href="{{ url_for('recomend') }}" class="button1" style="text-decoration: none;">Recommend</a>
        </div>
    </div>

    <div class="main" style="display: flex;">
        <div class="adv">
            <img src="/static/images/adv.png" style="margin-left: 23%; margin-top: 10%;" alt="Chat with Vbot" class="logo">
            <p style="color: #dbdbdb; font-family: 'Times New Roman', Times, serif; margin-left: 25%;">Lets get on  <span class="typing-text"></span></p>
            <h3 style="font-family: cursive; font-size: x-large;color: #ececec;font-weight: bolder;margin-left: 25%; padding-top: 50px;text-decoration: none;">Answer your juniors.</h3>
            <div class="slideshow-container">
                <div class="slides">
                    <div class="card">What are the best food places near VIT?</div>
                    <div class="card">How is the faculty Mohan CS for theory of science?</div>
                    <div class="card">when is the hostel closing time in the night?</div>
                    <div class="card">Are the Redtag anna stories real?</div>
                    <div class="card">What are the best food places near VIT for ANDHRA PEOPLE?</div>
                    <div class="card">How is the food in aunty mess?</div>
                    <div class="card"><a href="{{ url_for('recomend') }}" style="font-size: x-large;color: #000000;margin-left: 25px;">See more</a></div>
                </div>
                <a href="{{ url_for('recomend') }}"  style="margin-left: 20px;color: #d8bc56;">See more</a>
            </div>
        </div>
        <div class="container">
            <img src="/static/images/ask.png" style="margin-left: 25px;" alt="askVIT" class="logo">
            <div class="messages" id="chat-messages">
                <div class="disclaimer-box">
                    <span class="icon">⚠️</span> <!-- Unicode warning symbol -->
                    <p >The bot provides info only about VIT Vellore.<br>You can also give  your faculty list and get review. <br>Provide the concise prompt.</p>
                </div>

            </div>
            <input type="text" id="user-input" class="input-box" placeholder="Ask me anything about VIT...">
        </div>
    </div>

    <div class="vedio">
        <video width="640" height="360" style="border-radius: 10px;" controls>
            <source src="static/images/AskVIT.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <div>
        <h2 style="font-family: Arial, Helvetica, sans-serif;color: #dbdbdb; text-align: center;padding-top: 50px;">SUGGESTED RESTAURANT NEAR VIT</h2>
    </div>

    <div class="carousel-container">
        <div class="carousel-wrapper" style="font-family:Amatica SC;">
            <!-- Slide 1 -->
            <div class="carousel-card">
                <img src="static/images/bg1.png" alt="Card 1">
                <h2 style="color: #ececec;">ZAITOON</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+2" alt="Card 2">
                <h2 style="color: #ececec;">Heading 2</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+3" alt="Card 3">
                <h2 style="color: #ececec;">Heading 3</h2>
            </div>
            <!-- Slide 2 -->
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+4" alt="Card 4">
                <h2 style="color: #ececec;">Heading 4</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+5" alt="Card 5">
                <h2 style="color: #ececec;">Heading 5</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+6" alt="Card 6">
                <h2 style="color: #ececec;"> Heading 6</h2>
            </div>
            <!-- Slide 3 -->
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+7" alt="Card 7">
                <h2  style="color: #ececec;">Heading 7</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+8" alt="Card 8">
                <h2 style="color: #ececec;">Heading 8</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+9" alt="Card 9">
                <h2 style="color: #ececec;">Heading 9</h2>
            </div>
            <!-- Slide 4 -->
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+10" alt="Card 10">
                <h2 style="color: #ececec;">Heading 10</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+11" alt="Card 11">
                <h2 style="color: #ececec;">Heading 11</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+12" alt="Card 12">
                <h2 style="color: #ececec;">Heading 12</h2>
            </div>
        </div>
    </div>


    <div>
        <h2 style="font-family: Arial, Helvetica, sans-serif;color: #dbdbdb; text-align: center;padding-top: 70px;">PLACES TO VISIT NEAR VIT</h2>
    </div>

    <div class="carousel-container">
        <div class="carousel-wrapper" style="font-family:Amatica SC;">
            <!-- Slide 1 -->
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+1" alt="Card 1">
                <h2 style="color: #ececec;">ZAITOON</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+2" alt="Card 2">
                <h2 style="color: #ececec;">Heading 2</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+3" alt="Card 3">
                <h2 style="color: #ececec;">Heading 3</h2>
            </div>
            <!-- Slide 2 -->
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+4" alt="Card 4">
                <h2 style="color: #ececec;">Heading 4</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+5" alt="Card 5">
                <h2 style="color: #ececec;">Heading 5</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+6" alt="Card 6">
                <h2 style="color: #ececec;">Heading 6</h2>
            </div>
            <!-- Slide 3 -->
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+7" alt="Card 7">
                <h2 style="color: #ececec;">Heading 7</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+8" alt="Card 8">
                <h2 style="color: #ececec;">Heading 8</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+9" alt="Card 9">
                <h2 style="color: #ececec;">Heading 9</h2>
            </div>
            <!-- Slide 4 -->
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+10" alt="Card 10">
                <h2 style="color: #ececec;">Heading 10</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+11" alt="Card 11">
                <h2 style="color: #ececec;">Heading 11</h2>
            </div>
            <div class="carousel-card">
                <img src="https://via.placeholder.com/600x400?text=Card+12" alt="Card 12">
                <h2 style="color: #ececec;">Heading 12</h2>
            </div>
        </div>
    </div>

    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var typed = new Typed(".typing-text", {
                strings: [
                    "FACULTY REVIEWS",
                    "BEST RESTAURANTS",
                    "FFCS GUIDE",
                    "CHILL OUT PLACES",
                    "HOSTELS",
                    "FOOD",
                    "CAMPUS",
                    "FACULTY REVIEWS",
                    "ACADEMICS"
                ],
                loop: true,
                typeSpeed: 55,
                backSpeed: 25,
                backDelay: 500,
            });
        });

        function sendMessage() {
            const userInput = document.getElementById("user-input").value.trim();
            if (!userInput) return;

            const userMessageElement = document.createElement("div");
            userMessageElement.className = "message user";
            userMessageElement.textContent = `You: ${userInput}`;
            document.getElementById("chat-messages").appendChild(userMessageElement);

            fetch("/get", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ msg: userInput })
            })
            .then(response => response.json())
            .then(data => {
                const botMessageElement = document.createElement("div");
                botMessageElement.className = "message bot";

                const responseText = data.response;

                function linkify(text) {
    return text.replace(/(https?:\/\/[^\s]+)/g, url => 
        `<a href="${url}" target="_blank" style="color: red;">${url}</a>`
    );
}


                const bulletPoints = linkify(responseText).split('\n').map(item => `<li>${item}</li>`).join('');
                botMessageElement.innerHTML = `${data.bot_name}: <ul>${bulletPoints}</ul>`;
                
                document.getElementById("chat-messages").appendChild(botMessageElement);
                document.getElementById("chat-messages").scrollTop = document.getElementById("chat-messages").scrollHeight;
            })
            .catch(error => console.error("Error:", error));

            document.getElementById("user-input").value = "";
        }


        let currentSlide = 0;
        const slides = document.querySelector('.slides');
        const totalSlides = slides.children.length;
        const slideWidth = slides.children[0].offsetWidth + 30; // Including margin

        function changeSlide(direction) {
            currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
            slides.style.transform = `translateX(-${currentSlide * slideWidth}px)`;
        }

        function autoSlide() {
            changeSlide(1);
        }

        setInterval(autoSlide, 3000); // Change slide every 3 seconds


        document.getElementById("user-input").addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                event.preventDefault();
                sendMessage();
            }
        });

    </script>
</body>
</html>
